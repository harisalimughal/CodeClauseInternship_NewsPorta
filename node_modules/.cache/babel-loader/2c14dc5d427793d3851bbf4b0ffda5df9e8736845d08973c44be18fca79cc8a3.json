{"ast":null,"code":"import _regeneratorRuntime from\"/home/haris/CodeClauseInternship_NewsPortal/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/haris/CodeClauseInternship_NewsPortal/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/haris/CodeClauseInternship_NewsPortal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import SearchBar from'./SearchBar';// Import the SearchBar component\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FetchData=function FetchData(_ref){var cat=_ref.cat;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredData=_useState4[0],setFilteredData=_useState4[1];// New state for filtered data\nvar fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var apiUrl,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:apiUrl=cat?\"https://newsapi.org/v2/top-headlines?country=in&category=\".concat(cat,\"&apiKey=d0cb8c771f4d4cc291ac6feaa54024b3\"):\"https://newsapi.org/v2/top-headlines?country=in&apiKey=d0cb8c771f4d4cc291ac6feaa54024b3\";_context.prev=1;_context.next=4;return axios.get(apiUrl);case 4:response=_context.sent;setData(response.data.articles);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error('Error fetching data:',_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchData();},[cat]);var handleSearch=function handleSearch(searchTerm){var filteredArticles=data.filter(function(article){return article.title.toLowerCase().includes(searchTerm.toLowerCase());});setFilteredData(filteredArticles);};var articlesToDisplay=filteredData.length>0?filteredData:data;return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-4\",children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:handleSearch}),/*#__PURE__*/_jsx(\"div\",{className:\"container d-flex justify-content-center align-items-center flex-column my-3\",style:{minHeight:'100vh'},children:articlesToDisplay.length>0?articlesToDisplay.map(function(items,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3 p-3\",style:{width:'600px',boxShadow:'2px 2px 10px silver',borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{className:\"my-2\",children:items.title}),/*#__PURE__*/_jsx(\"div\",{\"d-flex\":true,\"justify-content-center\":true,\"align-items-center\":true,children:items.urlToVideo?/*#__PURE__*/_jsxs(\"video\",{controls:true,className:\"img-fluid\",style:{width:'100%',height:'300px',objectFit:'cover'},children:[/*#__PURE__*/_jsx(\"source\",{src:items.urlToVideo,type:\"video/mp4\"}),\"Your browser does not support the video tag.\"]}):/*#__PURE__*/_jsx(\"img\",{src:items.urlToImage,alt:\"img not found\",className:\"img-fluid\",style:{width:'100%',height:'300px',objectFit:'cover'}})}),/*#__PURE__*/_jsx(\"p\",{className:\"my-1\",children:items.content}),/*#__PURE__*/_jsx(Link,{to:items.url,target:\"blank\",children:\"view more\"})]},index);}):/*#__PURE__*/_jsx(\"p\",{children:\"No articles to display.\"})})]});};export default FetchData;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","SearchBar","jsx","_jsx","jsxs","_jsxs","FetchData","_ref","cat","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","filteredData","setFilteredData","fetchData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","apiUrl","response","wrap","_callee$","_context","prev","next","concat","get","sent","articles","t0","console","error","stop","apply","arguments","handleSearch","searchTerm","filteredArticles","filter","article","title","toLowerCase","includes","articlesToDisplay","length","className","children","onSearch","style","minHeight","map","items","index","width","boxShadow","borderRadius","urlToVideo","controls","height","objectFit","src","type","urlToImage","alt","content","to","url","target"],"sources":["/home/haris/CodeClauseInternship_NewsPortal/src/components/FetchData.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport SearchBar from './SearchBar'; // Import the SearchBar component\r\n\r\nconst FetchData = ({ cat }) => {\r\n  const [data, setData] = useState([]);\r\n  const [filteredData, setFilteredData] = useState([]); // New state for filtered data\r\n\r\n  const fetchData = async () => {\r\n    const apiUrl = cat\r\n      ? `https://newsapi.org/v2/top-headlines?country=in&category=${cat}&apiKey=d0cb8c771f4d4cc291ac6feaa54024b3`\r\n      : `https://newsapi.org/v2/top-headlines?country=in&apiKey=d0cb8c771f4d4cc291ac6feaa54024b3`;\r\n\r\n    try {\r\n      const response = await axios.get(apiUrl);\r\n      setData(response.data.articles);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [cat]);\r\n\r\n  const handleSearch = (searchTerm) => {\r\n    const filteredArticles = data.filter((article) =>\r\n      article.title.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n    setFilteredData(filteredArticles);\r\n  };\r\n\r\n  const articlesToDisplay = filteredData.length > 0 ? filteredData : data;\r\n\r\n  return (\r\n    <div className='container my-4'>\r\n     \r\n      <SearchBar onSearch={handleSearch} />\r\n\r\n      <div\r\n        className='container d-flex justify-content-center align-items-center flex-column my-3'\r\n        style={{ minHeight: '100vh' }}\r\n      >\r\n        {articlesToDisplay.length > 0 ? (\r\n          articlesToDisplay.map((items, index) => (\r\n            <div\r\n              key={index}\r\n              className='container my-3 p-3'\r\n              style={{\r\n                width: '600px',\r\n                boxShadow: '2px 2px 10px silver',\r\n                borderRadius: '10px',\r\n              }}\r\n            >\r\n              <h5 className='my-2'>{items.title}</h5>\r\n              <div d-flex justify-content-center align-items-center>\r\n  {items.urlToVideo ? (\r\n    <video controls className='img-fluid' style={{ width: '100%', height: '300px', objectFit: 'cover' }}>\r\n      <source src={items.urlToVideo} type='video/mp4' />\r\n      Your browser does not support the video tag.\r\n    </video>\r\n  ) : (\r\n    <img\r\n      src={items.urlToImage}\r\n      alt='img not found'\r\n      className='img-fluid'\r\n      style={{ width: '100%', height: '300px', objectFit: 'cover' }}\r\n    />\r\n  )}\r\n</div>\r\n              <p className='my-1'>{items.content}</p>\r\n              <Link to={items.url} target='blank'>\r\n                view more\r\n              </Link>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>No articles to display.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FetchData;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}