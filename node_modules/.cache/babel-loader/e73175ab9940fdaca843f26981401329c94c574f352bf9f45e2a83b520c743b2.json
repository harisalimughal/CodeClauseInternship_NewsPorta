{"ast":null,"code":"import _regeneratorRuntime from\"/home/haris/CodeClauseInternship_NewsPortal/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/haris/CodeClauseInternship_NewsPortal/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/haris/CodeClauseInternship_NewsPortal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';// ... (previous imports and code)\n// ... (previous imports and code)\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchBar=function SearchBar(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),searchResults=_useState4[0],setSearchResults=_useState4[1];var handleSearch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();// Prevent the default form submission behavior\nif(!(searchTerm.trim()==='')){_context.next=3;break;}return _context.abrupt(\"return\");case 3:_context.prev=3;_context.next=6;return fetch(\"https://newsapi.org/v2/top-headlines?country=in&category=\".concat(searchTerm,\"&apiKey=d0cb8c771f4d4cc291ac6feaa54024b3\"));case 6:response=_context.sent;if(!response.ok){_context.next=15;break;}_context.next=10;return response.json();case 10:data=_context.sent;// Log the response for debugging\nconsole.log('API response:',data);if(data.articles){setSearchResults(data.articles);}else{console.error('API response does not contain articles:',data);}_context.next=16;break;case 15:console.error('Error fetching search results:',response.statusText);case 16:_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](3);console.error('Error fetching search results:',_context.t0);case 21:case\"end\":return _context.stop();}},_callee,null,[[3,18]]);}));return function handleSearch(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"d-flex\",role:\"search\",onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control me-2\",type:\"search\",placeholder:\"Search\",\"aria-label\":\"Search\",value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success\",type:\"submit\",children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{children:searchResults.map(function(article){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:article.title}),/*#__PURE__*/_jsx(\"p\",{children:article.description}),/*#__PURE__*/_jsx(\"a\",{href:article.url,target:\"_blank\",rel:\"noopener noreferrer\",children:\"Read more\"})]},article.title);})})]});};export default SearchBar;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","SearchBar","_useState","_useState2","_slicedToArray","searchTerm","setSearchTerm","_useState3","_useState4","searchResults","setSearchResults","handleSearch","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","data","wrap","_callee$","_context","prev","next","preventDefault","trim","abrupt","fetch","concat","sent","ok","json","console","log","articles","error","statusText","t0","stop","_x","apply","arguments","children","className","role","onSubmit","type","placeholder","value","onChange","target","map","article","title","description","href","url","rel"],"sources":["/home/haris/CodeClauseInternship_NewsPortal/src/components/SearchBar.js"],"sourcesContent":["import React, { useState } from 'react';\r\n// ... (previous imports and code)\r\n\r\n// ... (previous imports and code)\r\n\r\nconst SearchBar = () => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault(); // Prevent the default form submission behavior\r\n\r\n    if (searchTerm.trim() === '') {\r\n      return; // No need to search if the search term is empty\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`https://newsapi.org/v2/top-headlines?country=in&category=${searchTerm}&apiKey=d0cb8c771f4d4cc291ac6feaa54024b3`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n\r\n        // Log the response for debugging\r\n        console.log('API response:', data);\r\n\r\n        if (data.articles) {\r\n          setSearchResults(data.articles);\r\n        } else {\r\n          console.error('API response does not contain articles:', data);\r\n        }\r\n      } else {\r\n        console.error('Error fetching search results:', response.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching search results:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"d-flex\" role=\"search\" onSubmit={handleSearch}>\r\n        <input\r\n          className=\"form-control me-2\"\r\n          type=\"search\"\r\n          placeholder=\"Search\"\r\n          aria-label=\"Search\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n        <button className=\"btn btn-outline-success\" type=\"submit\">\r\n          Search\r\n        </button>\r\n      </form>\r\n      <div>\r\n        {/* Display search results */}\r\n        {searchResults.map((article) => (\r\n          <div key={article.title}>\r\n            <h3>{article.title}</h3>\r\n            <p>{article.description}</p>\r\n            <a href={article.url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n              Read more\r\n            </a>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}